<!DOCTYPE html>
<html lang=en>
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">

<title>D lang 01: Project</title>
</head>
<body>

<h1>D Language Series 01: Project Setup</h1>

<p>D looked nice. Especially the easy integration with C code seemed promising. While having most of the good points similar to C and C++, it also has a standard build system that also works as a package manager. Here I will try to create a D application with C library dependencies.</p>

<p><a target="_blank" rel="noopener noreferrer" href="https://dlang.org">D language</a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://dub.pm">DUB, D language package manager</a></p>

<h2>DMD</h2>

<p>DMD is the official reference compiler for D.</p>

<pre><code>> cat main.d
import std.stdio;
void main()
{
    writeln("Hello World!");
}
> dmd main.d
> ./main.d
Hello World!
</code></pre>

<p>With <code>rdmd</code> compilation and running can be done with one command.</p>

<pre><code>> rdmd main.d
Hello World!
</code></pre>

<h2>DUB</h2>

<p>DUB manages both the project and the dependencies. First, DUB can initialize a project.</p>

<pre><code>> dub init dproj
Package recipe format (sdl/json) [json]: 
Name [dproj]:
Description [A minimal D application.]: 
Author name [Keehong Youn]: 
License [proprietary]: MIT
Copyright string [Copyright © 2020, Keehong Youn]: 
Add dependency (leave empty to skip) []: 
Successfully created an empty project in '/Users/ykeeh/dproj'.
Package successfully created in dproj

> tree dproj
dproj
├── dub.json
└── source
    └── app.d

> cat dproj/dub.json 
{
    "authors": [
        "Keehong Youn"
    ],
    "copyright": "Copyright © 2020, Keehong Youn",
    "description": "A minimal D application.",
    "license": "MIT",
    "name": "dproj"
}

> cat dproj/source/app.d 
import std.stdio;

void main()
{
    writeln("Edit source/app.d to start your project.");
}
</code></pre>

<p>Building and running the project is also done with the same command <code>dub</code>.</p>

<pre><code>> cd dproj
> dub
Performing "debug" build using /Library/D/dmd/bin/dmd for x86_64.
dproj ~master: building configuration "application"...
Linking...
Running ./dproj 
Edit source/app.d to start your project.
</code></pre>

<h2>Next: working with C code</h2>

<p>On upcoming next page, connecting C and D will be covered.</p>

<!-- <p class="note">Link: to be posted</p> -->
<p><a href="dlang02.html">D Language Series 02: Interfacing with C</a></p>

<p style="text-align:right;">Jan. 2020</p>

</body>
</html>
